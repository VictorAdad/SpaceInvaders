<mat-expansion-panel>
    <mat-expansion-panel-header>
        <mat-panel-title>
            <h4>Datos de herencia</h4>
        </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="container-fluid">
        <div class="row">
          <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="float-right">
              <strong>
                  <checkbox label="Heredar datos" [group]="form" name="heredar" (valueChange)="setHeredarDatos($event)"></checkbox>
              </strong>
            </div>
          </div>
         </div>
        <div class="row">
          <div class="col-md-4">
              <select2 placeholder="Persona" [disabled]="!heredar" [options]="optionsNoticia.personas" [group]="" name=""  (valueChange)="addPersona($event)"></select2>
          </div>
          <div class="col-md-4">
            <select2 placeholder="Lugar" [disabled]="!heredar" [options]="optionsNoticia.lugares" [group]="form.controls.lugar" name="id"  (valueChange)="lugarChanged($event)"></select2>
          </div>
          <div class="col-md-4">
            <select2 placeholder="Delito" [disabled]="!heredar"  [options]="optionsNoticia.delitos" [group]="form.controls.delito" name="id"  (valueChange)="delitoChanged($event)"></select2>
          </div>
        </div>
        <div class="row space">
          <div class="col-md-4">
              <mat-list *ngIf="personas != null">
                  <mat-list-item *ngFor="let personaCaso of personas">
                    <div *ngIf="personaCaso.persona.nombre !=null || personaCaso.persona.paterno!=null || personaCaso.persona.materno!=null">
                        {{personaCaso.persona.nombre?personaCaso.persona.nombre:""}} {{personaCaso.persona.paterno?personaCaso.persona.paterno:""}} {{personaCaso.persona.materno?personaCaso.persona.materno:""}}
                    </div>
                    <div *ngIf="personaCaso.persona.nombre ==null &&  personaCaso.persona.paterno==null && personaCaso.persona.materno ==null && personaCaso.tipoInterviniente.tipo == 'Imputado desconocido'">
                          Quién Resulte Responsable
                    </div>
                    <div *ngIf="personaCaso.persona.nombre ==null &&  personaCaso.persona.paterno==null && personaCaso.persona.materno ==null && !(personaCaso.tipoInterviniente.tipo == 'Imputado desconocido')">
                        Identidad Desconocida
                    </div>
                  </mat-list-item>
              </mat-list>
          </div>
          <div class="col-md-4">
            <select2 placeholder="Vehiculo" [disabled]="!heredar" [options]="optionsNoticia.vehiculos" [group]="form.controls.vehiculo" name="id"  (valueChange)="vehiculoChanged($event)"></select2>
          </div>
          <div class="col-md-4">
            <select2 placeholder="Arma" [disabled]="!heredar"  [options]="optionsNoticia.armas" [group]="form.controls.arma" name="id" (valueChange)="armaChanged($event)"></select2>
          </div>
        </div>
        <div class="row text-justify small space">
            <div class="col-lg-12 col-md-12 col-sm-12">
               Es necesario seleccionar "Heredar datos" para desplegar en el formato la información seleccionada, de lo contrario el sistema presentará toda la información de Datos Generales con base en la correspondencia de la información presentada en el formato.
            </div>
       </div>
       <div class="row space"></div>
      <div class="row justify-content-end space">
          <div class="col-sm-auto" >
              <button mat-raised-button color="accent" (click)="heredarDatos()" [disabled]="!heredar" >Heredar</button>
          </div>
      </div>
    </div>
</mat-expansion-panel>
