<breadcrumb [rutas]="breadcrumb"></breadcrumb>
<div class="row space">    
    <div class="col-md-12 text-right">
        <small>NIC:CAI/AIN/00/UAI/268/00126/17/08 - NUC: CAI/AIN/00/UAI/268/00126/17/08</small>
    </div>
</div>
<div class="row">
	<div class="col-md-6 space">
		<h2>Registrar arma</h2>
	</div>
	<div class="col-md-6 space">
		<button class="float-right" md-raised-button routerLink="/caso/{{casoId}}/noticia-hecho" color="accent">Regresar</button>
	</div>
	<div class="col-md-12">
		<form [formGroup]="form">
			<div class="row">
				<div class="col-sm-6 col-md-4 col-lg-3">
					<select2 placeholder= "Clase de Arma"
						name="clase"
						[(options)]="armaServ.claseArma.claseArma"
						(valueChange)="claseChange($event)"
						[group]="form">
				    </select2> 
				</div>
				<div  *ngIf="isArmaFuego || isArmaBlanca" class="col-sm-6 col-md-4 col-lg-3">
					<select2 placeholder= "Tipo de Arma"
						name="tipo"
						[(options)]="armaServ.claseArma.tipo"
						(valueChange)="armaServ.claseArma.find($event, 'tipo')"
						[group]="form">
					</select2> 
				</div>
			</div>
			<div class="row" *ngIf="isArmaFuego" >
			 	<div class="col-sm-6 col-md-4 col-lg-3">
			 		<select2 placeholder= "Subtipo de Arma"
			 			name="subtipo"
		 				[(options)]="armaServ.claseArma.subtipo"
		 				(valueChange)="armaServ.claseArma.find($event, 'subtipo')"
		 				[group]="form">
		 			</select2> 
				</div>
				 <div class="col-sm-6 col-md-4 col-lg-3">
				 	<select2 placeholder= "Calibre" 
				 		name="calibre"
				 		[(options)]="armaServ.calibreMecanismo.calibre"
				 		(valueChange)="armaServ.calibreMecanismo.find($event, 'calibre')"
				 		[group]="form">	
				    </select2> 
				</div>
				<div class="col-sm-6 col-md-4 col-lg-3">
					<select2 placeholder= "Mecanismo de acción"
						name="mecanismoAccion"
						[(options)]="armaServ.calibreMecanismo.mecanismo"
						(valueChange)="armaServ.calibreMecanismo.find($event, 'mecanismo')"
						[group]="form">	
				    </select2> 
				</div>
				<div class="col-sm-6 col-md-4 col-lg-3">
					<text label="Serie" name="serie" [group]="form"></text>  
				</div>
				<div class="col-sm-6 col-md-4 col-lg-3">
					<text label="Matrícula" name="matricula" [group]="form"></text>  
				</div>
			</div>

			<div class="row space">
				<div class="col-sm-12 col-md-12 col-lg-12">
				<text-area label="Notas" name="notas" [group]="form"></text-area>  
				</div>
			</div>
			<div class="row justify-content-end">
				<div class="col-sm-auto" [mdTooltip]="validateMsg(form)" (mouseenter)="validateForm(form)">
					<button md-raised-button color="accent" _saving (saveFn)="edit(form.valid, form.value)" [disabled]="!form.valid || [saving]" *ngIf="id != null">Editar</button>    
                    <button md-raised-button color="accent" _saving (saveFn)="save(form.valid, form.value)" [disabled]="!form.valid || [saving]" *ngIf="id == null">Guardar</button>
				</div>
				<div class="col-sm-auto">
					<button class="float-right" md-button routerLink="/caso/{{casoId}}/noticia-hecho">Cancelar</button>	
				</div>
			</div>
		</form>
	</div>
</div>




