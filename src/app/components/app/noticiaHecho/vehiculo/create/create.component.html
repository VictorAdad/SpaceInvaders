<breadcrumb [rutas]="breadcrumb"></breadcrumb>
<div class="row space">
    <div class="col-md-12 text-right">
        <small>NIC:CAI/AIN/00/UAI/268/00126/17/08 - NUC: CAI/AIN/00/UAI/268/00126/17/08</small>
    </div>
</div>
<div class="content-body">
    <div class="row space">
        <div class="col-md-10">
            <h2>Registrar vehículo</h2>
        </div>
        <div class="col-md-2">
            <button class="float-right" mat-raised-button routerLink="/caso/{{casoId}}/noticia-hecho" color="accent">Regresar</button>
        </div>
    </div>
    <form [formGroup]="form">
        <div class="row">
            <div class="col-md-3">
                <select2 placeholder="Motivo por el que se registra"
                    [options]="vehiculoServ.motivoColorClase.motivoRegistro"
                    name="motivoRegistro"
                    [group]="form">

                </select2>
            </div>
            <div class="col-md-3">
                <select2 placeholder="Vehículo"
                    name="campoVehiculo"
                    [options]="vehiculoServ.tipoUsoTipoVehiculo.tipoVehiculo"
                    [group]="form">

                </select2>
            </div>
            <div class="col-md-3">
                <text label="Nº tarjeta de circulación" name="tarjetaCirculacion" [group]="form"></text>
            </div>
            <div class="col-md-3">
                <text label="Nº económico" name="economico" [group]="form"></text>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <select2 placeholder="Clase"
                name="clase"
                [options]="vehiculoServ.motivoColorClase.clase"
                [group]="form">

            </select2>
            </div>
            <div class="col-md-3">
                <select2 placeholder="Marca"
                    [options]="vehiculoServ.marcaSubmarca.marca"
                    name="marca"
                    [group]="form">

                </select2>
            </div>
            <div class="col-md-3">
                <select2 placeholder="Submarca"
                    name="submarca"
                    [options]="vehiculoServ.marcaSubmarca.submarca"
                    [group]="form">

                </select2>
            </div>
            <div class="col-md-3">
                <select2 placeholder="Color"
                    name="color"
                    [options]="vehiculoServ.motivoColorClase.color"
                    [group]="form">

                </select2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <text label="Modelo" name="modelo" [group]="form"></text>
            </div>
            <div class="col-md-3">
                <select2 placeholder="Estado de origen de las placas"
                        [(options)]="optionsServ.estados"
                        name="id"
                        [group]="form.controls.estadoOrigen">

                </select2>
            </div>
            <div class="col-md-3">
                <text label="Placas" name="placas" [group]="form"></text>
            </div>
            <div class="col-md-3">
                <text label="Placas adicionales" name="placasAdicionales" [group]="form"></text>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <text label="Registro federal del vehículo (RFV)" name="registroFederal" [group]="form"></text>
            </div>
            <div class="col-md-3">
                <text label="Nº serie (VIN)" name="serie" [group]="form"></text>
            </div>
            <div class="col-md-3">
                <text label="Nº motor" name="motor" [group]="form"></text>
            </div>

            <div class="col-md-3">
                <select2 placeholder="Aseguradora"
                    name="aseguradora"
                    [options]="vehiculoServ.procedenciaAseguradora.aseguradora" 
                    [group]="form">
                </select2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <text label="Factura" name="factura" [group]="form"></text>
            </div>
            <div class="col-md-3">
                <select2 placeholder="Datos tomados de"
                    name="datosTomados"
                    [options]="vehiculoServ.tipoUsoTipoVehiculo.datosTomadosDe"
                    [group]="form">
                </select2>
            </div>
            <div class="col-md-3">
                <text label="Nº póliza" name="poliza" [group]="form"></text>
            </div>
            <div class="col-md-3">
                <text label="Valor estimado" name="valorEstimado" [group]="form"></text>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="row">
                    <div class="col">
                        <select2 placeholder="Tipo de uso" name="tipoUso"
                            [options]="vehiculoServ.tipoUsoTipoVehiculo.tipoUso"
                            [group]="form">
                        </select2>
                    </div>
                    <div class="col">
                        <select2 placeholder="Procedencia"
                            [options]="vehiculoServ.procedenciaAseguradora.procedencia"
                            name="procedencia"
                            [group]="form"
                            (valueChange)="change($event)">
                        </select2>
                    </div>
                    <div class="col" *ngIf="isProcedenciaExtranjera==true">
                        <text label="Pedimento de importación" name="pedimentoImportacion" [group]="form"></text>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-6">
                        <checkbox label="¿Lleva cargar?" name="llevaCarga" [group]="form"></checkbox>
                    </div>
                    <div class="col-md-6">
                        <checkbox label="¿Alterado? (Nº serie)" name="alterado" [group]="form"></checkbox>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <text label="Señas particulares"  name="senasParticulares" [group]="form"></text>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <text-area label="Notas" name="notas" [group]="form"></text-area>
            </div>
        </div>
        <div class="row justify-content-end space">
            <div class="col-sm-auto" [matTooltip]="validateMsg(form)" (mouseenter)="validateForm(form)" matTooltipPosition="above">
                <button mat-raised-button color="accent" _saving (saveFn)="edit(form.valid, form.value)" [disabled]="!form.valid || [saving]" *ngIf="id != null">Editar</button>    
                <button mat-raised-button color="accent" _saving (saveFn)="save(form.valid, form.value)" [disabled]="!form.valid || [saving]" *ngIf="id == null">Guardar</button>
            </div>
            <div class="col-sm-auto">
                <button mat-button routerLink="/caso/{{casoId}}/noticia-hecho">Cancelar</button>
            </div>
        </div>
    </form>
</div>
